___TERMS_OF_SERVICE___

By creating or modifying this file you agree to Google Tag Manager's Community
Template Gallery Developer Terms of Service available at
https://developers.google.com/tag-manager/gallery-tos (or such other URL as
Google may provide), as modified from time to time.


___INFO___

{
  "type": "TAG",
  "id": "cvt_temp_public_id",
  "version": 1,
  "securityGroups": [],
  "displayName": "eagle-insight-tag",
  "brand": {
    "id": "brand_dummy",
    "displayName": "",
    "thumbnail": "data:image/png;base64,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\u003d"
  },
  "description": "Implementation of tracking code for mercari advertising system \"eagle-insight\"",
  "containerContexts": [
    "WEB"
  ]
}


___TEMPLATE_PARAMETERS___

[
  {
    "type": "TEXT",
    "name": "scriptAddress",
    "displayName": "SCRIPT_ADDRESS",
    "simpleValueType": true,
    "defaultValue": "https://securepub.eagle-insight.com/eisatag/js/conversion.js"
  },
  {
    "type": "TEXT",
    "name": "advertiser",
    "displayName": "ADVERTISER",
    "simpleValueType": true
  },
  {
    "type": "TEXT",
    "name": "cookieComain",
    "displayName": "COOKIE_DOMAIN",
    "simpleValueType": true,
    "canBeEmptyString": true
  }
]


___SANDBOXED_JS_FOR_WEB_TEMPLATE___

const log = require('logToConsole');
const injectScript = require('injectScript');
const copyFromWindow = require('copyFromWindow');
const setInWindow = require('setInWindow');
log('mercari ad tracking data : ', data);

const eagletag = copyFromWindow('eagletag') || {cmd: []};
eagletag.cmd.push(function() {
  const egl = copyFromWindow('eagletag');
  egl.setAdvertiserID(data.advertiser);
  egl.writeTrackingID(data.cookieComain);
});
setInWindow('eagletag', eagletag, true);

injectScript(data.scriptAddress, data.gtmOnSuccess, data.gtmOnFailure);


___WEB_PERMISSIONS___

[
  {
    "instance": {
      "key": {
        "publicId": "logging",
        "versionId": "1"
      },
      "param": [
        {
          "key": "environments",
          "value": {
            "type": 1,
            "string": "debug"
          }
        }
      ]
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "inject_script",
        "versionId": "1"
      },
      "param": [
        {
          "key": "urls",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 1,
                "string": "https://*.eagle-insight.com/"
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "access_globals",
        "versionId": "1"
      },
      "param": [
        {
          "key": "keys",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "eagletag"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  }
]


___TESTS___

scenarios:
- name: Test run
  code: |-
    const mockData = {
      // Mocked field values
      scriptAddress: 'https://securepub.eagle-insight.com/eisatag/js/conversion.js',
      advertiser: 'test',
      cookieComain: 'sample-domain',
    };

    // Call runCode to run the template's code.
    runCode(mockData);

    // Verify that the tag finished successfully.
    assertApi('injectScript').wasCalled();
- name: Test function added check
  code: |-
    const setInWindow = require('setInWindow');
    const copyFromWindow = require('copyFromWindow');

    // Clear because the test result of the previous stage is inherited
    setInWindow('eagletag', {cmd: []}, true);

    const mockData = {
      // Mocked field values
      scriptAddress: 'https://securepub.eagle-insight.com/eisatag/js/conversion.js',
      advertiser: 'test',
      cookieComain: 'sample-domain',
    };

    // Call runCode to run the template's code.
    runCode(mockData);

    // Verify that the tag finished successfully.
    const eagletag = copyFromWindow('eagletag');
    const exp = eagletag.cmd && eagletag.cmd.length === 1;
    assertThat(exp).isTrue();


___NOTES___

Created on 2020/10/9 11:07:13


